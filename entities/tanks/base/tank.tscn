[gd_scene load_steps=28 format=3 uid="uid://15pucv5g7w3p"]

[ext_resource type="Script" uid="uid://jxqce0b0d6hr" path="res://entities/tanks/base/tank.gd" id="1_6u466"]
[ext_resource type="Texture2D" uid="uid://ol82tm8544cy" path="res://assets/graphics/tanks/heavy_tank.png" id="2_ciwkk"]
[ext_resource type="PackedScene" uid="uid://dndfuj2pggsg6" path="res://entities/tanks/base/turret.tscn" id="3_raro8"]
[ext_resource type="PackedScene" uid="uid://ci10irdq7u6in" path="res://components/health_component.tscn" id="5_raro8"]
[ext_resource type="PackedScene" uid="uid://dwuu5fjugl025" path="res://entities/projectiles/ap_round.tscn" id="7_55dvl"]
[ext_resource type="PackedScene" uid="uid://und3t0v7d5a8" path="res://entities/projectiles/weapon_system.tscn" id="7_ym7oc"]
[ext_resource type="PackedScene" uid="uid://bwpcipxppj87x" path="res://entities/projectiles/heat_round.tscn" id="8_pu3tq"]
[ext_resource type="PackedScene" uid="uid://dlq2qdqk1qn31" path="res://entities/projectiles/he_round.tscn" id="9_ie120"]
[ext_resource type="PackedScene" uid="uid://c55aqv4idi2wo" path="res://entities/projectiles/missile.tscn" id="10_di8a4"]
[ext_resource type="PackedScene" uid="uid://bbgt2gksvekjb" path="res://components/character_move_component.tscn" id="10_n8ip8"]
[ext_resource type="AudioStream" uid="uid://dl2kom5a1lqtm" path="res://assets/sounds/tractor-digs-a-hole.ogg" id="12_pu3tq"]
[ext_resource type="PackedScene" uid="uid://dgsy215usa2ne" path="res://entities/misc/hp_indicator.tscn" id="14_vyw1x"]
[ext_resource type="PackedScene" uid="uid://dnk82ft28fnqj" path="res://entities/tanks/base/death_holder.tscn" id="16_vyw1x"]
[ext_resource type="AudioStream" uid="uid://chjirvo6bj5lu" path="res://assets/sounds/explosion.mp3" id="17_0pyek"]
[ext_resource type="Texture2D" uid="uid://dv4sqiv4ee42m" path="res://assets/graphics/effects/tank_explosion4.png" id="18_vyw1x"]
[ext_resource type="Texture2D" uid="uid://m38evhpltulw" path="res://assets/graphics/effects/tank_explosion9.png" id="19_e6wdd"]
[ext_resource type="Texture2D" uid="uid://djtcvrp8cro3s" path="res://assets/graphics/effects/tank_explosion8.png" id="20_albxe"]
[ext_resource type="Texture2D" uid="uid://duqqt7gw33yni" path="res://assets/graphics/effects/tank_explosion6.png" id="21_5ixb2"]
[ext_resource type="PackedScene" uid="uid://dgibaxsnf2b5j" path="res://entities/tanks/base/trace.tscn" id="21_vyw1x"]
[ext_resource type="PackedScene" uid="uid://bykltpew30wb8" path="res://entities/tanks/base/taran.tscn" id="22_e6wdd"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_n8ip8"]
size = Vector2(9, 42)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vyw1x"]
size = Vector2(2, 34)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_e6wdd"]
size = Vector2(60, 4)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_albxe"]
size = Vector2(60, 4)

[sub_resource type="Animation" id="Animation_vyw1x"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0.011764706)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("explosion:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("s_explosion:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0.01, 0.01)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("s_explosion/part1:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("s_explosion/part2:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("s_explosion/part3:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_n8ip8"]
resource_name = "death"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.0333333, 1.6042094),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0.011764706)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("explosion:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("s_explosion:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1.7265869),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0.01, 0.01), Vector2(1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("s_explosion/part1:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1.96),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(50, 50)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("s_explosion/part2:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 1.96),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(-50, -50)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("s_explosion/part3:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(50, -50)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_e6wdd"]
_data = {
&"RESET": SubResource("Animation_vyw1x"),
&"death": SubResource("Animation_n8ip8")
}

[node name="Tank" type="CharacterBody2D" node_paths=PackedStringArray("turret", "move_component", "health_component", "weapon_system")]
self_modulate = Color(1, 1, 1, 0.011764706)
script = ExtResource("1_6u466")
turret = NodePath("Turret")
move_component = NodePath("CharacterMoveComponent")
health_component = NodePath("HealthComponent")
weapon_system = NodePath("WeaponSystem")
death_holder = ExtResource("16_vyw1x")

[node name="view" type="Sprite2D" parent="."]
texture = ExtResource("2_ciwkk")

[node name="HealthComponent" parent="." instance=ExtResource("5_raro8")]
max_health = 1000
auto_destroy_on_death = false

[node name="WeaponSystem" parent="." instance=ExtResource("7_ym7oc")]
ap_round = ExtResource("7_55dvl")
he_round = ExtResource("9_ie120")
heat_round = ExtResource("8_pu3tq")
missile_round = ExtResource("10_di8a4")

[node name="CharacterMoveComponent" parent="." instance=ExtResource("10_n8ip8")]
use_snap = false
stop_on_slope = false
move_speed = 200.0
reverse_speed = 70.0

[node name="Turret" parent="." instance=ExtResource("3_raro8")]
z_index = 1
static_spread = 20

[node name="engine" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("12_pu3tq")
volume_db = -22.209
parameters/looping = true

[node name="HP_indicator" parent="." node_paths=PackedStringArray("health_component") instance=ExtResource("14_vyw1x")]
visible = false
offset_left = -24.0
offset_top = -48.0
offset_right = 26.0
offset_bottom = -40.0
health_component = NodePath("../HealthComponent")

[node name="front_armor" type="CollisionShape2D" parent="."]
position = Vector2(30.5, 0.75)
shape = SubResource("RectangleShape2D_n8ip8")

[node name="back_armor" type="CollisionShape2D" parent="."]
position = Vector2(-33, 1)
shape = SubResource("RectangleShape2D_vyw1x")

[node name="left_armor" type="CollisionShape2D" parent="."]
position = Vector2(-4, -18)
shape = SubResource("RectangleShape2D_e6wdd")

[node name="right_armor" type="CollisionShape2D" parent="."]
position = Vector2(-4, 20)
shape = SubResource("RectangleShape2D_albxe")

[node name="animation" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_e6wdd")
}

[node name="explosion" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("17_0pyek")

[node name="s_explosion" type="Sprite2D" parent="."]
scale = Vector2(0.01, 0.01)
texture = ExtResource("18_vyw1x")

[node name="part1" type="Sprite2D" parent="s_explosion"]
texture = ExtResource("19_e6wdd")

[node name="part2" type="Sprite2D" parent="s_explosion"]
texture = ExtResource("20_albxe")

[node name="part3" type="Sprite2D" parent="s_explosion"]
texture = ExtResource("21_5ixb2")

[node name="trace" parent="." node_paths=PackedStringArray("tank") instance=ExtResource("21_vyw1x")]
max_points = 3
trail_width = 80.0
tank = NodePath("..")

[node name="taran" parent="." instance=ExtResource("22_e6wdd")]
position = Vector2(39, 1)

[connection signal="animation_finished" from="animation" to="." method="_on_animation_animation_finished"]
